.card-swap-container {
  position: relative; /* allow wrapping container to position it centrally */
  margin: 0 auto;
  transform: none;
  transform-origin: center center;
  perspective: 900px;
  overflow: visible;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* The outer wrapper (added in MissionVision) should be a positioned parent so we can
   absolutely anchor the visual stack on desktop while keeping mobile centered. */
.card-swap-outer {
  position: relative;
}

/* Visual nudge so the card stack appears anchored lower (cards come from below) */
.card-swap-container.shift-down,
.card-swap-outer.shift-down {
  transform: translateY(12%);
}

.card {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: transparent;
  overflow: hidden;
  border-radius: 16px;

  transform-style: preserve-3d;
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-origin: center center;
  /* smooth fallback if GSAP isn't available yet */
  transition: transform 180ms ease-out;
}

.card:hover {
  /* progressive enhancement when a CSS hover scale var is provided */
  transform: var(--card-hover-transform, none);
}

@media (max-width: 768px) {
  .card-swap-container {
    transform: scale(0.9) translateY(12%);
  }
}

@media (max-width: 480px) {
  .card-swap-container {
    transform: scale(0.82) translateY(18%);
  }
}

/* Desktop (restore anchored layout similar to previous behavior) */
@media (min-width: 769px) {
  /* ensure the outer wrapper is the positioning context */
  .card-swap-outer {
    position: relative;
  }

  .card-swap-outer .card-swap-container {
    position: absolute;
    right: 4%;
    bottom: 6vh;
    margin: 0;
    transform-origin: bottom right;
    /* small visual offset to match previous design */
    transform: translate(5%, 20%);
    display: block;
  }

  /* On desktop the shift-down visual nudge should be minimal (cards anchored lower already) */
  .card-swap-outer.shift-down .card-swap-container,
  .card-swap-outer.shift-down {
    transform: translate(5%, 20%);
  }
}

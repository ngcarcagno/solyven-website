"use strict";(self.webpackChunksolyven_website=self.webpackChunksolyven_website||[]).push([[224],{9224:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(9379),a=r(5043),s=r(5404),o=r(579);const i=[{src:"https://images.unsplash.com/photo-1755331039789-7e5680e26e8f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Abstract art"},{src:"https://images.unsplash.com/photo-1755569309049-98410b94f66d?q=80&w=772&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Modern sculpture"},{src:"https://images.unsplash.com/photo-1755497595318-7e5e3523854f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Digital artwork"},{src:"https://images.unsplash.com/photo-1755353985163-c2a0fe5ac3d8?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Contemporary art"},{src:"https://images.unsplash.com/photo-1745965976680-d00be7dc0377?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Geometric pattern"},{src:"https://images.unsplash.com/photo-1752588975228-21f44630bb3c?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Textured surface"},{src:"https://pbs.twimg.com/media/Gyla7NnXMAAXSo_?format=jpg&name=large",alt:"Social media image"}],c={maxVerticalRotationDeg:5,dragSensitivity:20,enlargeTransitionMs:300,segments:35},l=(e,t,r)=>Math.min(Math.max(e,t),r),u=e=>(e%360+360)%360,d=e=>((e+180)%360+360)%360-180,f=(e,t,r)=>{var n;const a=null!==(n=e.dataset[t])&&void 0!==n?n:e.getAttribute("data-".concat(t)),s=null==a?NaN:parseFloat(a);return Number.isFinite(s)?s:r};function m(e){let{images:t=i,fit:r=.5,fitBasis:m="auto",minRadius:p=600,maxRadius:y=1/0,padFactor:h=.25,overlayBlurColor:g="5F0807",maxVerticalRotationDeg:x=c.maxVerticalRotationDeg,dragSensitivity:v=c.dragSensitivity,enlargeTransitionMs:b=c.enlargeTransitionMs,segments:w=c.segments,dragDampening:M=2,openedImageWidth:A="250px",openedImageHeight:R="350px",imageBorderRadius:D="30px",openedImageBorderRadius:C="30px",grayscale:k=!0}=e;const B=(0,a.useRef)(null),j=(0,a.useRef)(null),E=(0,a.useRef)(null),N=(0,a.useRef)(null),q=(0,a.useRef)(null),H=(0,a.useRef)(null),z=(0,a.useRef)(null),Y=(0,a.useRef)(null),G=(0,a.useRef)({x:0,y:0}),P=(0,a.useRef)({x:0,y:0}),X=(0,a.useRef)(null),F=(0,a.useRef)(!1),L=(0,a.useRef)(!1),T=(0,a.useRef)(null),S=(0,a.useRef)(!1),_=(0,a.useRef)(0),V=(0,a.useRef)(0),I=(0,a.useRef)(!1),W=(0,a.useCallback)((()=>{I.current||(I.current=!0,document.body.classList.add("dg-scroll-lock"))}),[]),O=(0,a.useCallback)((()=>{var e;I.current&&"true"!==(null===(e=B.current)||void 0===e?void 0:e.getAttribute("data-enlarging"))&&(I.current=!1,document.body.classList.remove("dg-scroll-lock"))}),[]),U=(0,a.useMemo)((()=>function(e,t){const r=Array.from({length:t},((e,t)=>2*t-37)),a=[-4,-2,0,2,4],s=[-3,-1,1,3,5],o=r.flatMap(((e,t)=>(t%2===0?a:s).map((t=>({x:e,y:t,sizeX:2,sizeY:2}))))),i=o.length;if(0===e.length)return o.map((e=>(0,n.A)((0,n.A)({},e),{},{src:"",alt:""})));e.length>i&&console.warn("[DomeGallery] Provided image count (".concat(e.length,") exceeds available tiles (").concat(i,"). Some images will not be shown."));const c=e.map((e=>"string"===typeof e?{src:e,alt:""}:{src:e.src||"",alt:e.alt||""})),l=Array.from({length:i},((e,t)=>c[t%c.length]));for(let n=1;n<l.length;n++)if(l[n].src===l[n-1].src)for(let e=n+1;e<l.length;e++)if(l[e].src!==l[n].src){const t=l[n];l[n]=l[e],l[e]=t;break}return o.map(((e,t)=>(0,n.A)((0,n.A)({},e),{},{src:l[t].src,alt:l[t].alt})))}(t,w)),[t,w]),Z=(e,t)=>{const r=E.current;r&&(r.style.transform="translateZ(calc(var(--radius) * -1)) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg)"))},J=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=B.current;if(!e)return;const t=new ResizeObserver((t=>{var n;const a=t[0].contentRect,s=Math.max(1,a.width),o=Math.max(1,a.height),i=Math.min(s,o),c=Math.max(s,o),u=s/o;let d;switch(m){case"min":d=i;break;case"max":d=c;break;case"width":d=s;break;case"height":d=o;break;default:d=u>=1.3?s:i}let f=d*r;const x=1.35*o;f=Math.min(f,x),f=l(f,p,y),J.current=Math.round(f);const v=Math.max(8,Math.round(i*h));e.style.setProperty("--radius","".concat(J.current,"px")),e.style.setProperty("--viewer-pad","".concat(v,"px")),e.style.setProperty("--overlay-blur-color",g),e.style.setProperty("--tile-radius",D),e.style.setProperty("--enlarge-radius",C),e.style.setProperty("--image-filter",k?"grayscale(1)":"none"),Z(G.current.x,G.current.y);const b=null===(n=q.current)||void 0===n?void 0:n.querySelector(".enlarge");if(b&&N.current&&j.current){const e=N.current.getBoundingClientRect(),t=j.current.getBoundingClientRect();if(A&&R){const r=document.createElement("div");r.style.cssText="position: absolute; width: ".concat(A,"; height: ").concat(R,"; visibility: hidden;"),document.body.appendChild(r);const n=r.getBoundingClientRect();document.body.removeChild(r);const a=e.left-t.left+(e.width-n.width)/2,s=e.top-t.top+(e.height-n.height)/2;b.style.left="".concat(a,"px"),b.style.top="".concat(s,"px")}else b.style.left="".concat(e.left-t.left,"px"),b.style.top="".concat(e.top-t.top,"px"),b.style.width="".concat(e.width,"px"),b.style.height="".concat(e.height,"px")}}));return t.observe(e),()=>t.disconnect()}),[r,m,p,y,h,g,k,D,C,A,R]),(0,a.useEffect)((()=>{Z(G.current.x,G.current.y)}),[]);const K=(0,a.useCallback)((()=>{T.current&&(cancelAnimationFrame(T.current),T.current=null)}),[]),Q=(0,a.useCallback)(((e,t)=>{const r=1.4;let n=80*l(e,-1.4,r),a=80*l(t,-1.4,r),s=0;const o=l(null!==M&&void 0!==M?M:.6,0,1),i=.94+.055*o,c=.015-.01*o,u=Math.round(90+270*o),f=()=>{if(n*=i,a*=i,Math.abs(n)<c&&Math.abs(a)<c)return void(T.current=null);if(++s>u)return void(T.current=null);const e=l(G.current.x-a/200,-x,x),t=d(G.current.y+n/200);G.current={x:e,y:t},Z(e,t),T.current=requestAnimationFrame(f)};K(),T.current=requestAnimationFrame(f)}),[M,x,K]);(0,s.useGesture)({onDragStart:e=>{let{event:t}=e;if(z.current)return;K();const r=t;F.current=!0,L.current=!1,P.current=(0,n.A)({},G.current),X.current={x:r.clientX,y:r.clientY}},onDrag:e=>{let{event:t,last:r,velocity:n=[0,0],direction:a=[0,0],movement:s}=e;if(z.current||!F.current||!X.current)return;const o=t,i=o.clientX-X.current.x,c=o.clientY-X.current.y;if(!L.current){i*i+c*c>16&&(L.current=!0)}const u=l(P.current.x-c/v,-x,x),f=d(P.current.y+i/v);if(G.current.x===u&&G.current.y===f||(G.current={x:u,y:f},Z(u,f)),r){F.current=!1;let[e,t]=n;const[r,o]=a;let i=e*r,c=t*o;if(Math.abs(i)<.001&&Math.abs(c)<.001&&Array.isArray(s)){const[e,t]=s;i=l(e/v*.02,-1.2,1.2),c=l(t/v*.02,-1.2,1.2)}(Math.abs(i)>.005||Math.abs(c)>.005)&&Q(i,c),L.current&&(V.current=performance.now()),L.current=!1}}},{target:j,eventOptions:{passive:!0}}),(0,a.useEffect)((()=>{const e=H.current;if(!e)return;const t=()=>{var e;if(performance.now()-_.current<250)return;const t=z.current;if(!t)return;const r=t.parentElement,n=null===(e=q.current)||void 0===e?void 0:e.querySelector(".enlarge");if(!n)return;const a=r.querySelector(".item__image--reference"),s=Y.current;var o;if(!s)return n.remove(),a&&a.remove(),r.style.setProperty("--rot-y-delta","0deg"),r.style.setProperty("--rot-x-delta","0deg"),t.style.visibility="",t.style.zIndex=0,z.current=null,null===(o=B.current)||void 0===o||o.removeAttribute("data-enlarging"),S.current=!1,void O();const i=n.getBoundingClientRect(),c=B.current.getBoundingClientRect(),l=s.left-c.left,u=s.top-c.top,d=s.width,f=s.height,m={left:i.left-c.left,top:i.top-c.top,width:i.width,height:i.height},p=document.createElement("div");p.className="enlarge-closing",p.style.cssText="position:absolute;left:".concat(m.left,"px;top:").concat(m.top,"px;width:").concat(m.width,"px;height:").concat(m.height,"px;z-index:9999;border-radius: var(--enlarge-radius, 32px);overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.35);transition:all ").concat(b,"ms ease-out;pointer-events:none;margin:0;transform:none;");const y=n.querySelector("img");if(y){const e=y.cloneNode();e.style.cssText="width:100%;height:100%;object-fit:cover;",p.appendChild(e)}n.remove(),B.current.appendChild(p),p.getBoundingClientRect(),requestAnimationFrame((()=>{p.style.left=l+"px",p.style.top=u+"px",p.style.width=d+"px",p.style.height=f+"px",p.style.opacity="0"}));p.addEventListener("transitionend",(()=>{p.remove(),Y.current=null,a&&a.remove(),r.style.transition="none",t.style.transition="none",r.style.setProperty("--rot-y-delta","0deg"),r.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame((()=>{var e;t.style.visibility="",t.style.opacity="0",t.style.zIndex=0,z.current=null,null===(e=B.current)||void 0===e||e.removeAttribute("data-enlarging"),requestAnimationFrame((()=>{r.style.transition="",t.style.transition="opacity 300ms ease-out",requestAnimationFrame((()=>{t.style.opacity="1",setTimeout((()=>{var e;t.style.transition="",t.style.opacity="",S.current=!1,F.current||"true"===(null===(e=B.current)||void 0===e?void 0:e.getAttribute("data-enlarging"))||document.body.classList.remove("dg-scroll-lock")}),300)}))}))}))}),{once:!0})};e.addEventListener("click",t);const r=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",r),()=>{e.removeEventListener("click",t),window.removeEventListener("keydown",r)}}),[b,O]);const $=(0,a.useCallback)((e=>{var t;if(S.current)return;S.current=!0,_.current=performance.now(),W();const r=e.parentElement;z.current=e,e.setAttribute("data-focused","true");const n=function(e,t,r,n,a){const s=360/a/2;return{rotateX:s*(t-(n-1)/2),rotateY:s*(e+(r-1)/2)}}(f(r,"offsetX",0),f(r,"offsetY",0),f(r,"sizeX",2),f(r,"sizeY",2),w);let a=-(u(n.rotateY)+u(G.current.y))%360;a<-180&&(a+=360);const s=-n.rotateX-G.current.x;r.style.setProperty("--rot-y-delta","".concat(a,"deg")),r.style.setProperty("--rot-x-delta","".concat(s,"deg"));const o=document.createElement("div");o.className="item__image item__image--reference",o.style.opacity="0",o.style.transform="rotateX(".concat(-n.rotateX,"deg) rotateY(").concat(-n.rotateY,"deg)"),r.appendChild(o);const i=o.getBoundingClientRect(),c=j.current.getBoundingClientRect(),l=N.current.getBoundingClientRect();Y.current={left:i.left,top:i.top,width:i.width,height:i.height},e.style.visibility="hidden",e.style.zIndex=0;const d=document.createElement("div");d.className="enlarge",d.style.position="absolute",d.style.left=l.left-c.left+"px",d.style.top=l.top-c.top+"px",d.style.width=l.width+"px",d.style.height=l.height+"px",d.style.opacity="0",d.style.zIndex="30",d.style.willChange="transform, opacity",d.style.transformOrigin="top left",d.style.transition="transform ".concat(b,"ms ease, opacity ").concat(b,"ms ease");const m=r.dataset.src||(null===(t=e.querySelector("img"))||void 0===t?void 0:t.src)||"",p=document.createElement("img");p.src=m,d.appendChild(p),q.current.appendChild(d);const y=i.left-l.left,h=i.top-l.top,g=i.width/l.width,x=i.height/l.height;d.style.transform="translate(".concat(y,"px, ").concat(h,"px) scale(").concat(g,", ").concat(x,")"),requestAnimationFrame((()=>{var e;d.style.opacity="1",d.style.transform="translate(0px, 0px) scale(1,1)",null===(e=B.current)||void 0===e||e.setAttribute("data-enlarging","true")}));if(A||R){const e=t=>{if("transform"!==t.propertyName)return;d.removeEventListener("transitionend",e);const r=d.style.transition;d.style.transition="none";const n=A||"".concat(l.width,"px"),a=R||"".concat(l.height,"px");d.style.width=n,d.style.height=a;const s=d.getBoundingClientRect();d.style.width=l.width+"px",d.style.height=l.height+"px",d.offsetWidth,d.style.transition="left ".concat(b,"ms ease, top ").concat(b,"ms ease, width ").concat(b,"ms ease, height ").concat(b,"ms ease");const o=l.left-c.left+(l.width-s.width)/2,i=l.top-c.top+(l.height-s.height)/2;requestAnimationFrame((()=>{d.style.left="".concat(o,"px"),d.style.top="".concat(i,"px"),d.style.width=n,d.style.height=a}));const u=()=>{d.removeEventListener("transitionend",u),d.style.transition=r};d.addEventListener("transitionend",u,{once:!0})};d.addEventListener("transitionend",e)}}),[b,W,R,A,w]),ee=(0,a.useCallback)((e=>{F.current||performance.now()-V.current<80||S.current||$(e.currentTarget)}),[$]),te=(0,a.useCallback)((e=>{"touch"===e.pointerType&&(F.current||performance.now()-V.current<80||S.current||$(e.currentTarget))}),[$]),re=(0,a.useCallback)((e=>{F.current||performance.now()-V.current<80||S.current||$(e.currentTarget)}),[$]);return(0,a.useEffect)((()=>()=>{document.body.classList.remove("dg-scroll-lock")}),[]),(0,o.jsx)("div",{ref:B,className:"sphere-root",style:{"--segments-x":w,"--segments-y":w,"--overlay-blur-color":g,"--tile-radius":D,"--enlarge-radius":C,"--image-filter":k?"grayscale(1)":"none"},children:(0,o.jsxs)("main",{ref:j,className:"sphere-main",children:[(0,o.jsx)("div",{className:"stage",children:(0,o.jsx)("div",{ref:E,className:"sphere",children:U.map(((e,t)=>(0,o.jsx)("div",{className:"item","data-src":e.src,"data-offset-x":e.x,"data-offset-y":e.y,"data-size-x":e.sizeX,"data-size-y":e.sizeY,style:{"--offset-x":e.x,"--offset-y":e.y,"--item-size-x":e.sizeX,"--item-size-y":e.sizeY},children:(0,o.jsx)("div",{className:"item__image",role:"button",tabIndex:0,"aria-label":e.alt||"Open image",onClick:ee,onPointerUp:te,onTouchEnd:re,children:(0,o.jsx)("img",{src:e.src,draggable:!1,alt:e.alt})})},"".concat(e.x,",").concat(e.y,",").concat(t))))})}),(0,o.jsx)("div",{className:"overlay"}),(0,o.jsx)("div",{className:"overlay overlay--blur"}),(0,o.jsx)("div",{className:"edge-fade edge-fade--top"}),(0,o.jsx)("div",{className:"edge-fade edge-fade--bottom"}),(0,o.jsxs)("div",{className:"viewer",ref:q,children:[(0,o.jsx)("div",{ref:H,className:"scrim"}),(0,o.jsx)("div",{ref:N,className:"frame"})]})]})})}}}]);
//# sourceMappingURL=224.22ff5df8.chunk.js.map